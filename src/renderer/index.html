<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noise Remover</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>🎵 Noise Remover</h1>
      <p>音声ファイルからノイズを除去します</p>
    </header>

    <main>
      <div class="upload-section">
        <div class="drop-zone" id="dropZone">
          <div class="drop-zone-content">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
            <p>ファイルをドラッグ&ドロップ</p>
            <p class="or-text">または</p>
            <button id="selectFileBtn" class="btn btn-primary">ファイルを選択</button>
          </div>
        </div>

        <div id="fileInfo" class="file-info" style="display: none;">
          <h3>選択されたファイル</h3>
          <p id="fileName"></p>
        </div>
      </div>

      <div class="settings-section" id="settingsSection" style="display: none;">
        <h2>ノイズ除去設定</h2>
        
        <div class="setting-group">
          <label>処理方法</label>
          <select id="methodSelect" class="form-control">
            <option value="both">ノイズゲート + スペクトル減算</option>
            <option value="gate">ノイズゲートのみ</option>
            <option value="spectral">スペクトル減算のみ</option>
          </select>
        </div>

        <div class="setting-group">
          <label>
            ノイズゲート閾値: <span id="thresholdValue">0.01</span>
          </label>
          <input type="range" id="thresholdSlider" class="slider" 
                 min="0" max="0.1" step="0.001" value="0.01">
          <p class="help-text">小さい音を除去する閾値(値が大きいほど強く除去)</p>
        </div>

        <div class="setting-group">
          <label>
            ノイズ除去量: <span id="reductionValue">50%</span>
          </label>
          <input type="range" id="reductionSlider" class="slider" 
                 min="0" max="100" step="5" value="50">
          <p class="help-text">スペクトル減算の強度(値が大きいほど強く除去)</p>
        </div>

        <div class="button-group">
          <button id="processBtn" class="btn btn-success">
            <span class="btn-text">処理を開始</span>
          </button>
        </div>
      </div>

      <div class="progress-section" id="progressSection" style="display: none;">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p id="progressText">処理中...</p>
      </div>

      <div class="result-section" id="resultSection" style="display: none;">
        <h2>処理完了!</h2>
        <div class="result-info">
          <p id="resultInfo"></p>
        </div>
        <div class="button-group">
          <button id="saveBtn" class="btn btn-primary">ファイルを保存</button>
          <button id="newFileBtn" class="btn btn-secondary">新しいファイルを処理</button>
        </div>
      </div>
    </main>

    <footer>
      <p>対応形式: MP3, WAV, M4A, FLAC, OGG</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
